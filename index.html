<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>On Nature - Consultoria Ambiental</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="assets/logo.png" type="image/png" />
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Ajustes do campo de busca */
    .search-box {
      position: relative;
      display: inline-block;
    }

    .search-box input {
      padding: 8px 35px 8px 10px;
      border: 1px solid #ccc;
      border-radius: 20px;
      outline: none;
    }

    .search-box::after {
      content: "üîç";
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      color: #555;
    }

    mark {
      background-color: #1abc9c;
      color: #000;
      padding: 0 2px;
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <!-- Cabe√ßalho -->
  <header id="header">
    <nav class="navbar">
      <div class="logo-container">
        <a href="https://www.onnature.com.br">
          <img src="assets/logo.png" alt="Logo" class="logo-image">
        </a>
        <span class="logo-text">Nature</span>
      </div>

      <ul class="nav-links">
        <li><a href="#quem-somos">Quem somos</a></li>
        <li><a href="#valores">Nossos valores</a></li>
        <li><a href="#servicos">Servi√ßos</a></li>
        <li><a href="#noticias">Not√≠cias</a></li>
        <li><a href="#orcamento" class="btn-orcamento">Solicitar or√ßamento</a></li>
      </ul>

      <!-- Caixa de busca -->
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Pesquisar no site..." />
      </div>
    </nav>
  </header>

  <!-- Conte√∫do Principal -->
  <main>
    <!-- Slider Hero -->
    <section class="hero">
      <div class="hero-slider">
        <img src="assets/img4.jpg" alt="Imagem 1" class="hero-img active" />
        <img src="assets/img5.jpg" alt="Imagem 2" class="hero-img" />
        <img src="assets/img6.jpg" alt="Imagem 3" class="hero-img" />
        <button class="hero-nav prev">&#10094;</button>
        <button class="hero-nav next">&#10095;</button>
      </div>
    </section>

    <!-- Texto e Galeria -->
    <section class="content">
      <div class="text-area">
        <h2>Sobre a On Nature</h2>
        <p>A On Nature oferece consultoria ambiental especializada, focada em apoiar empresas a incorporarem pr√°ticas sustent√°veis e a atenderem rigorosamente √†s normas ambientais vigentes.</p>
        <p>Nossa assessoria atua de forma personalizada, identificando riscos ambientais, promovendo a gest√£o eficiente de recursos naturais e garantindo a conformidade legal dos processos produtivos.</p>
        <p>Ao contar com a nossa consultoria, sua empresa ganha mais do que um simples suporte t√©cnico: conquista maior efici√™ncia operacional, redu√ß√£o de custos com desperd√≠cios e passivos ambientais, al√©m de fortalecer a imagem institucional perante clientes, investidores e √≥rg√£os reguladores.</p>
        <p>Al√©m dos benef√≠cios empresariais, a On Nature atua comprometida com a preserva√ß√£o do meio ambiente, promovendo pr√°ticas que minimizam impactos, incentivam a economia circular e contribuem para a conserva√ß√£o da biodiversidade.</p>
        <p>Conte com a On Nature para transformar desafios ambientais em oportunidades de inova√ß√£o e crescimento sustent√°vel. Juntos, podemos fazer a diferen√ßa para o seu neg√≥cio e para o planeta.</p>
      </div>

      <!-- Galeria lado a lado -->
      <div class="grid-gallery">
        <div class="quote">CONFIRA O DEPOIMENTO DE NOSSOS CLIENTES</div>
        <img src="assets/img1.jpg" alt="Paisagem 1" />
        <img src="assets/img2.jpg" alt="Paisagem 2" />
        <img src="assets/img3.jpg" alt="Paisagem 3" />
      </div>
    </section>
  </main>

  <!-- Rodap√© -->
  <footer>
    <p>&copy; 2025 On Nature. Todos os direitos reservados.</p>
  </footer>

  <!-- √çcone WhatsApp -->
  <a href="https://wa.me/5511941848586" class="whatsapp-wrapper" target="_blank" title="Fale conosco no WhatsApp" aria-label="WhatsApp">
    <img src="assets/whatsapp-social-media-svgrepo-com.svg" alt="WhatsApp" class="whatsapp-icon" />
    <div class="whatsapp-message">Entre em contato conosco</div>
  </a>

  <!-- Bot√£o Voltar ao Topo -->
  <button id="btnTopo" title="Voltar ao topo">‚Üë</button>

  <!-- Scripts -->
  <script>
    /* ========================
       FUN√á√ÉO DE BUSCA INTERNA
    =========================*/
    let matches = [];
    let currentMatchIndex = -1;
    let currentSearch = "";

    document.getElementById("searchInput").addEventListener("keydown", function (event) {
      if (event.key === "Enter") {
        event.preventDefault();
        const term = this.value.trim().toLowerCase();
        if (!term) return clearHighlights();

        if (matches.length === 0 || currentSearch !== term) {
          clearHighlights();
          matches = [];
          currentMatchIndex = -1;
          currentSearch = term;
          findMatches(term);
        }

        if (matches.length > 0) {
          currentMatchIndex = (currentMatchIndex + 1) % matches.length;
          scrollToMatch(currentMatchIndex);
        }
      }
    });

    function findMatches(term) {
      const container = document.querySelector("main");
      const textNodes = getTextNodes(container);

      textNodes.forEach(node => {
        const text = node.nodeValue;
        const regex = new RegExp(term, "gi");
        if (regex.test(text)) {
          const span = document.createElement("span");
          span.innerHTML = text.replace(regex, m => `<mark>${m}</mark>`);
          node.parentNode.replaceChild(span, node);
        }
      });

      matches = Array.from(document.querySelectorAll("mark"));
    }

    function scrollToMatch(index) {
      matches.forEach((mark, i) => {
        mark.style.backgroundColor = i === index ? "#ffeb3b" : "#1abc9c";
      });
      matches[index].scrollIntoView({ behavior: "smooth", block: "center" });
    }

    function clearHighlights() {
      document.querySelectorAll("mark").forEach(mark => {
        const text = document.createTextNode(mark.textContent);
        mark.parentNode.replaceChild(text, mark);
        mark.parentNode.normalize();
      });
      matches = [];
      currentMatchIndex = -1;
      currentSearch = "";
    }

    function getTextNodes(element) {
      let nodes = [];
      for (let node of element.childNodes) {
        if (node.nodeType === 3 && node.nodeValue.trim()) {
          nodes.push(node);
        } else if (node.nodeType === 1 && !["SCRIPT", "STYLE"].includes(node.nodeName)) {
          nodes = nodes.concat(getTextNodes(node));
        }
      }
      return nodes;
    }

    /* ========================
       BOT√ÉO VOLTAR AO TOPO
    =========================*/
    document.addEventListener("DOMContentLoaded", () => {
      const btnTopo = document.getElementById("btnTopo");

      window.addEventListener("scroll", () => {
        const scrollY = window.scrollY || window.pageYOffset;
        const alturaTotal = document.documentElement.scrollHeight;
        const alturaJanela = window.innerHeight;
        btnTopo.classList.toggle("show", scrollY + alturaJanela >= alturaTotal * 0.8);
      });

      btnTopo.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    });

    /* ========================
       SLIDER HERO AUTOM√ÅTICO
    =========================*/
    document.addEventListener("DOMContentLoaded", () => {
      const images = document.querySelectorAll(".hero-img");
      const prevBtn = document.querySelector(".hero-nav.prev");
      const nextBtn = document.querySelector(".hero-nav.next");
      let current = 0;
      let interval;

      function showImage(index) {
        images.forEach((img, i) => img.classList.toggle("active", i === index));
      }

      function nextImage() {
        current = (current + 1) % images.length;
        showImage(current);
      }

      function prevImage() {
        current = (current - 1 + images.length) % images.length;
        showImage(current);
      }

      function startAutoSlide() {
        interval = setInterval(nextImage, 3000);
      }

      function resetInterval() {
        clearInterval(interval);
        startAutoSlide();
      }

      nextBtn.addEventListener("click", () => {
        nextImage();
        resetInterval();
      });

      prevBtn.addEventListener("click", () => {
        prevImage();
        resetInterval();
      });

      showImage(current);
      startAutoSlide();
    });
  </script>
</body>
</html>
